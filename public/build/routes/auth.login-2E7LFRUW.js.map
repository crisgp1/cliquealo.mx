{
  "version": 3,
  "sources": ["../../../app/routes/auth.login.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/auth.login.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/auth.login.tsx\");\n  import.meta.hot.lastModified = \"1748647654949.2876\";\n}\n// REMIX HMR END\n\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, useActionData, Link, useNavigation } from \"@remix-run/react\";\nimport { UserModel } from \"~/models/User\";\nimport { createUserSession, getUserId } from \"~/lib/session.server\";\nimport { Eye, EyeOff, ArrowRight, Loader2 } from 'lucide-react';\nimport { useState } from 'react';\nexport async function loader({\n  request\n}) {\n  const userId = await getUserId(request);\n  if (userId) return redirect(\"/\");\n  return null;\n}\nexport async function action({\n  request\n}) {\n  const formData = await request.formData();\n  const email = formData.get(\"email\");\n  const password = formData.get(\"password\");\n  if (!email || !password) {\n    return json({\n      error: \"Email y contrase\u00F1a son requeridos\"\n    }, {\n      status: 400\n    });\n  }\n  if (!email.includes('@')) {\n    return json({\n      error: \"Email inv\u00E1lido\"\n    }, {\n      status: 400\n    });\n  }\n  try {\n    const user = await UserModel.findByEmail(email);\n    if (!user || !(await UserModel.verifyPassword(user, password))) {\n      return json({\n        error: \"Credenciales incorrectas\"\n      }, {\n        status: 400\n      });\n    }\n\n    // Redirect based on user role\n    let redirectTo = \"/\";\n    if (user.role === 'admin') {\n      redirectTo = \"/admin/listings\";\n    } else if (user.role === 'superadmin') {\n      redirectTo = \"/admin\";\n    }\n    return createUserSession(user._id.toString(), redirectTo);\n  } catch (error) {\n    console.error(error);\n    return json({\n      error: \"Error interno del servidor\"\n    }, {\n      status: 500\n    });\n  }\n}\nexport default function Login() {\n  _s();\n  const actionData = useActionData();\n  const navigation = useNavigation();\n  const [showPassword, setShowPassword] = useState(false);\n  const isSubmitting = navigation.state === \"submitting\";\n  return <div className=\"min-h-screen bg-white flex\">\n      {/* Left side - Form */}\n      <div className=\"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-sm w-full\">\n          <div className=\"text-center mb-12\">\n            <Link to=\"/\" className=\"inline-flex items-center space-x-3 mb-8\">\n              <div className=\"w-8 h-8 bg-black rounded-full\"></div>\n              <span className=\"text-xl font-light tracking-tight text-gray-900\">\n                Cliquealo\n              </span>\n            </Link>\n            \n            <h1 className=\"text-3xl font-light text-gray-900 mb-3\">\n              Bienvenido\n            </h1>\n            <p className=\"text-gray-600\">\n              Ingresa a tu cuenta para continuar\n            </p>\n          </div>\n\n          <Form method=\"post\" className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Email\n              </label>\n              <input type=\"email\" name=\"email\" required autoComplete=\"email\" className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all\" placeholder=\"tu@email.com\" />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Contrase\u00F1a\n              </label>\n              <div className=\"relative\">\n                <input type={showPassword ? \"text\" : \"password\"} name=\"password\" required autoComplete=\"current-password\" className=\"w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-all\" placeholder=\"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\" />\n                <button type=\"button\" onClick={() => setShowPassword(!showPassword)} className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\">\n                  {showPassword ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\n                </button>\n              </div>\n            </div>\n\n            {actionData?.error && <div className=\"p-4 bg-red-50 border border-red-200 rounded-xl\">\n                <p className=\"text-sm text-red-600\">{actionData.error}</p>\n              </div>}\n\n            <button type=\"submit\" disabled={isSubmitting} className=\"w-full bg-gray-900 text-white py-3 rounded-xl hover:bg-gray-800 transition-colors font-medium flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\">\n              {isSubmitting ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : <>\n                  <span>Iniciar sesi\u00F3n</span>\n                  <ArrowRight className=\"w-4 h-4\" />\n                </>}\n            </button>\n          </Form>\n\n          <div className=\"mt-8 text-center\">\n            <p className=\"text-gray-600\">\n              \u00BFNo tienes cuenta?{\" \"}\n              <Link to=\"/auth/register\" className=\"text-gray-900 hover:text-gray-700 transition-colors font-medium\">\n                Crear cuenta\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Right side - Image/Gradient */}\n      <div className=\"hidden lg:block lg:w-1/2 bg-gradient-to-br from-gray-50 to-gray-100\">\n        <div className=\"h-full flex items-center justify-center p-12\">\n          <div className=\"text-center\">\n            <div className=\"w-32 h-32 bg-gray-200 rounded-full mx-auto mb-8\"></div>\n            <h2 className=\"text-2xl font-light text-gray-800 mb-4\">\n              Tu marketplace de confianza\n            </h2>\n            <p className=\"text-gray-600 max-w-md\">\n              Conectamos compradores y vendedores de autos usados de forma simple y segura.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>;\n}\n_s(Login, \"S5H12/xs931uQp8KAGwXpZGozAw=\", false, function () {\n  return [useActionData, useNavigation];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
